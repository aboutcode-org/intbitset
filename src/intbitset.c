/* Generated by Pyrex 0.9.6.3 on Wed Nov  7 13:44:02 2007 */

#define PY_SSIZE_T_CLEAN
#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#if PY_VERSION_HEX < 0x02050000
  typedef int Py_ssize_t;
  #define PY_SSIZE_T_MAX INT_MAX
  #define PY_SSIZE_T_MIN INT_MIN
  #define PyInt_FromSsize_t(z) PyInt_FromLong(z)
  #define PyInt_AsSsize_t(o)	PyInt_AsLong(o)
#endif
#ifndef WIN32
  #define __stdcall
  #define __cdecl
#endif
#ifdef __cplusplus
#define __PYX_EXTERN_C extern "C"
#else
#define __PYX_EXTERN_C extern
#endif
#include <math.h>
#include "intbitset.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
static char **__pyx_f;

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb); /*proto*/

static PyObject *__Pyx_UnpackItem(PyObject *); /*proto*/
static int __Pyx_EndUnpack(PyObject *); /*proto*/

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/

static void __Pyx_AddTraceback(char *funcname); /*proto*/

/* Declarations from intbitset */

struct __pyx_obj_9intbitset_intbitset {
  PyObject_HEAD
  IntBitSet *bitset;
  bool_t sanity_checks;
};

struct __pyx_obj_9intbitset_intbitset_iterator {
  PyObject_HEAD
  int last;
  IntBitSet *bitset;
};



static PyTypeObject *__pyx_ptype_9intbitset_intbitset = 0;
static PyTypeObject *__pyx_ptype_9intbitset_intbitset_iterator = 0;
static PyObject *__pyx_k7;
static int __pyx_k8;
static int __pyx_k9;
static bool_t __pyx_k10;
static int __pyx_k11;
static int __pyx_k12;


/* Implementation of intbitset */

static char __pyx_k1[] = "$Id$";
static char __pyx_k5[] = "invenio.config";

static PyObject *__pyx_n___revision__;
static PyObject *__pyx_n___apilevel__;
static PyObject *__pyx_n_zlib;
static PyObject *__pyx_n_array;
static PyObject *__pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS;
static PyObject *__pyx_n___maxelem__;

static PyObject *__pyx_k1p;
static PyObject *__pyx_k5p;

static PyObject *__pyx_n_Error;
static PyObject *__pyx_n_type;
static PyObject *__pyx_n_int;
static PyObject *__pyx_n_long;
static PyObject *__pyx_n_ValueError;
static PyObject *__pyx_n_str;
static PyObject *__pyx_n_tostring;
static PyObject *__pyx_n_decompress;
static PyObject *__pyx_n_Exception;
static PyObject *__pyx_n___iter__;
static PyObject *__pyx_n_max;
static PyObject *__pyx_n_OverflowError;
static PyObject *__pyx_n_TypeError;

static PyObject *__pyx_k14p;
static PyObject *__pyx_k15p;
static PyObject *__pyx_k16p;
static PyObject *__pyx_k18p;
static PyObject *__pyx_k19p;
static PyObject *__pyx_k20p;
static PyObject *__pyx_k21p;
static PyObject *__pyx_k22p;
static PyObject *__pyx_k23p;
static PyObject *__pyx_k24p;

static char __pyx_k14[] = "rhs can't be negative";
static char __pyx_k15[] = "Buffer error!!!";
static char __pyx_k16[] = "rhs is corrupted: %s";
static char __pyx_k18[] = "Can't integers bigger than %s";
static char __pyx_k19[] = "Negative numbers, not allowed";
static char __pyx_k20[] = "Elements must be <= %s";
static char __pyx_k21[] = "Negative numbers, not allowed";
static char __pyx_k22[] = "Elements must be <= %s";
static char __pyx_k23[] = "retrieving integers from rhs is impossible: %s";
static char __pyx_k24[] = "rhs is of unknown type %s";

static int __pyx_f_9intbitset_9intbitset___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_9intbitset_9intbitset___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  int __pyx_v_preallocate;
  int __pyx_v_trailing_bits;
  bool_t __pyx_v_sanity_checks;
  int __pyx_v_no_allocate;
  Py_ssize_t __pyx_v_size;
  void *__pyx_v_buf;
  int __pyx_v_elem;
  int __pyx_v_last;
  int __pyx_v_remelem;
  PyObject *__pyx_v_msg;
  PyObject *__pyx_v_tmp;
  int __pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  PyObject *__pyx_6 = 0;
  bool_t __pyx_7;
  int __pyx_8;
  static char *__pyx_argnames[] = {"rhs","preallocate","trailing_bits","sanity_checks","no_allocate",0};
  __pyx_v_rhs = __pyx_k7;
  __pyx_v_preallocate = __pyx_k8;
  __pyx_v_trailing_bits = __pyx_k9;
  __pyx_v_sanity_checks = __pyx_k10;
  __pyx_v_no_allocate = __pyx_k11;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|OiiBi", __pyx_argnames, &__pyx_v_rhs, &__pyx_v_preallocate, &__pyx_v_trailing_bits, &__pyx_v_sanity_checks, &__pyx_v_no_allocate)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_v_msg = Py_None; Py_INCREF(Py_None);
  __pyx_v_tmp = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":138 */
  ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks = __pyx_v_sanity_checks;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":139 */
  Py_INCREF(__pyx_n_Error);
  Py_DECREF(__pyx_v_msg);
  __pyx_v_msg = __pyx_n_Error;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":140 */
  ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset = NULL;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":141 */
  __pyx_1 = __pyx_v_no_allocate;
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":142 */
    ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset = intBitSetCreateNoAllocate();

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":143 */
    __pyx_r = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":144 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_rhs);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_3);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = PySequence_Contains(__pyx_5, __pyx_4); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 144; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":145 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 145; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_rhs, __pyx_2, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 145; goto __pyx_L1;}
    __pyx_1 = __pyx_1 < 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    if (__pyx_1) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 146; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k14p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 146; goto __pyx_L1;}
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":147 */
    __pyx_1 = PyInt_AsLong(__pyx_v_rhs); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 147; goto __pyx_L1;}
    ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset = intBitSetCreate(__pyx_1,__pyx_v_trailing_bits);
    goto __pyx_L3;
  }
  __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 148; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 148; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_v_rhs);
  __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 148; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = __pyx_2 == ((PyObject*)__pyx_ptype_9intbitset_intbitset);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_1) {
    ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset = intBitSetClone(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);
    goto __pyx_L3;
  }
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_rhs);
  __pyx_5 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_str); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_m, __pyx_n_array); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_2);
  PyTuple_SET_ITEM(__pyx_4, 1, __pyx_3);
  __pyx_2 = 0;
  __pyx_3 = 0;
  __pyx_1 = PySequence_Contains(__pyx_4, __pyx_5); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 150; goto __pyx_L1;}
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  if (__pyx_1) {
    /*try:*/ {

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":152 */
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L5;}
      __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L5;}
      Py_INCREF(__pyx_v_rhs);
      PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_rhs);
      __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L5;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_array); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 152; goto __pyx_L5;}
      __pyx_1 = __pyx_5 == __pyx_4;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      if (__pyx_1) {
        __pyx_2 = PyObject_GetAttr(__pyx_v_rhs, __pyx_n_tostring); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L5;}
        __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 153; goto __pyx_L5;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        Py_DECREF(__pyx_v_rhs);
        __pyx_v_rhs = __pyx_3;
        __pyx_3 = 0;
        goto __pyx_L7;
      }
      __pyx_L7:;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":154 */
      __pyx_5 = __Pyx_GetName(__pyx_m, __pyx_n_zlib); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L5;}
      __pyx_4 = PyObject_GetAttr(__pyx_5, __pyx_n_decompress); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L5;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L5;}
      Py_INCREF(__pyx_v_rhs);
      PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
      __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 154; goto __pyx_L5;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_tmp);
      __pyx_v_tmp = __pyx_3;
      __pyx_3 = 0;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":155 */
      __pyx_1 = (PyObject_AsReadBuffer(__pyx_v_tmp,(&__pyx_v_buf),(&__pyx_v_size)) < 0);
      if (__pyx_1) {
        __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L5;}
        __Pyx_Raise(__pyx_5, __pyx_k15p, 0);
        Py_DECREF(__pyx_5); __pyx_5 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 156; goto __pyx_L5;}
        goto __pyx_L8;
      }
      __pyx_L8:;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":157 */
      ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset = intBitSetCreateFromBuffer(__pyx_v_buf,__pyx_v_size);
    }
    goto __pyx_L6;
    __pyx_L5:;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;
    Py_XDECREF(__pyx_2); __pyx_2 = 0;
    Py_XDECREF(__pyx_3); __pyx_3 = 0;
    Py_XDECREF(__pyx_5); __pyx_5 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":158 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 158; goto __pyx_L1;}
    __pyx_1 = PyErr_ExceptionMatches(__pyx_4);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_1) {
      __Pyx_AddTraceback("intbitset.__cinit__");
      if (__Pyx_GetException(&__pyx_2, &__pyx_3, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 158; goto __pyx_L1;}
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_msg);
      __pyx_v_msg = __pyx_3;
      __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 159; goto __pyx_L1;}
      __pyx_6 = PyNumber_Remainder(__pyx_k16p, __pyx_v_msg); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 159; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_6, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 159; goto __pyx_L1;}
      Py_DECREF(__pyx_2);
      Py_DECREF(__pyx_3);
      Py_DECREF(__pyx_5);
      goto __pyx_L6;
    }
    goto __pyx_L1;
    __pyx_L6:;
    goto __pyx_L3;
  }
  __pyx_1 = PyObject_HasAttr(__pyx_v_rhs,__pyx_n___iter__); if (__pyx_1 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 160; goto __pyx_L1;}
  if (__pyx_1) {
    /*try:*/ {

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":162 */
      __pyx_1 = (__pyx_v_preallocate < 0);
      if (__pyx_1) {
        __pyx_1 = PyObject_IsTrue(__pyx_v_rhs); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 163; goto __pyx_L9;}
        if (__pyx_1) {
          __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_max); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; goto __pyx_L9;}
          __pyx_6 = PyTuple_New(1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; goto __pyx_L9;}
          Py_INCREF(__pyx_v_rhs);
          PyTuple_SET_ITEM(__pyx_6, 0, __pyx_v_rhs);
          __pyx_2 = PyObject_CallObject(__pyx_4, __pyx_6); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; goto __pyx_L9;}
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          __pyx_1 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 164; goto __pyx_L9;}
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          __pyx_v_preallocate = __pyx_1;
          goto __pyx_L12;
        }
        /*else*/ {
          __pyx_v_preallocate = 0;
        }
        __pyx_L12:;
        goto __pyx_L11;
      }
      __pyx_L11:;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":167 */
      __pyx_7 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
      if (__pyx_7) {
        __pyx_1 = 0 <= __pyx_v_preallocate;
        if (__pyx_1) {
          __pyx_1 = __pyx_v_preallocate < maxelem;
        }
        __pyx_8 = (!__pyx_1);
        if (__pyx_8) {
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L9;}
          __pyx_5 = PyInt_FromLong(maxelem); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L9;}
          __pyx_4 = PyNumber_Remainder(__pyx_k18p, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L9;}
          Py_DECREF(__pyx_5); __pyx_5 = 0;
          __Pyx_Raise(__pyx_3, __pyx_4, 0);
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 169; goto __pyx_L9;}
          goto __pyx_L14;
        }
        __pyx_L14:;
        goto __pyx_L13;
      }
      __pyx_L13:;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":170 */
      ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset = intBitSetCreate(__pyx_v_preallocate,__pyx_v_trailing_bits);

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":171 */
      __pyx_1 = __pyx_v_trailing_bits;
      if (__pyx_1) {

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":172 */
        __pyx_v_last = 0;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":173 */
        __pyx_7 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
        if (__pyx_7) {
          __pyx_6 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L9;}
          for (;;) {
            __pyx_2 = PyIter_Next(__pyx_6);
            if (!__pyx_2) {
              if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L9;}
              break;
            }
            __pyx_8 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L9;}
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            __pyx_v_elem = __pyx_8;

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":175 */
            __pyx_1 = (__pyx_v_elem < 0);
            if (__pyx_1) {
              __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; goto __pyx_L9;}
              __Pyx_Raise(__pyx_5, __pyx_k19p, 0);
              Py_DECREF(__pyx_5); __pyx_5 = 0;
              {__pyx_filename = __pyx_f[0]; __pyx_lineno = 176; goto __pyx_L9;}
              goto __pyx_L19;
            }
            __pyx_8 = (__pyx_v_elem > maxelem);
            if (__pyx_8) {
              __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; goto __pyx_L9;}
              __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; goto __pyx_L9;}
              __pyx_2 = PyNumber_Remainder(__pyx_k20p, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; goto __pyx_L9;}
              Py_DECREF(__pyx_4); __pyx_4 = 0;
              __Pyx_Raise(__pyx_3, __pyx_2, 0);
              Py_DECREF(__pyx_3); __pyx_3 = 0;
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; goto __pyx_L9;}
              goto __pyx_L19;
            }
            __pyx_L19:;

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":179 */
            for (__pyx_v_remelem = __pyx_v_last; __pyx_v_remelem < __pyx_v_elem; ++__pyx_v_remelem) {
              intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_remelem);
            }

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":181 */
            __pyx_v_last = (__pyx_v_elem + 1);
          }
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          goto __pyx_L16;
        }
        /*else*/ {
          __pyx_5 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L9;}
          for (;;) {
            __pyx_4 = PyIter_Next(__pyx_5);
            if (!__pyx_4) {
              if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L9;}
              break;
            }
            __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 183; goto __pyx_L9;}
            Py_DECREF(__pyx_4); __pyx_4 = 0;
            __pyx_v_elem = __pyx_1;

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":184 */
            for (__pyx_v_remelem = __pyx_v_last; __pyx_v_remelem < __pyx_v_elem; ++__pyx_v_remelem) {
              intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_remelem);
            }

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":186 */
            __pyx_v_last = (__pyx_v_elem + 1);
          }
          Py_DECREF(__pyx_5); __pyx_5 = 0;
        }
        __pyx_L16:;
        goto __pyx_L15;
      }
      /*else*/ {
        __pyx_7 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
        if (__pyx_7) {
          __pyx_3 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 190; goto __pyx_L9;}
          for (;;) {
            __pyx_2 = PyIter_Next(__pyx_3);
            if (!__pyx_2) {
              if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 190; goto __pyx_L9;}
              break;
            }
            __pyx_8 = PyInt_AsLong(__pyx_2); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 190; goto __pyx_L9;}
            Py_DECREF(__pyx_2); __pyx_2 = 0;
            __pyx_v_elem = __pyx_8;

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":191 */
            __pyx_1 = (__pyx_v_elem < 0);
            if (__pyx_1) {
              __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L9;}
              __Pyx_Raise(__pyx_6, __pyx_k21p, 0);
              Py_DECREF(__pyx_6); __pyx_6 = 0;
              {__pyx_filename = __pyx_f[0]; __pyx_lineno = 192; goto __pyx_L9;}
              goto __pyx_L29;
            }
            __pyx_8 = (__pyx_v_elem > maxelem);
            if (__pyx_8) {
              __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L9;}
              __pyx_5 = PyInt_FromLong(maxelem); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L9;}
              __pyx_2 = PyNumber_Remainder(__pyx_k22p, __pyx_5); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L9;}
              Py_DECREF(__pyx_5); __pyx_5 = 0;
              __Pyx_Raise(__pyx_4, __pyx_2, 0);
              Py_DECREF(__pyx_4); __pyx_4 = 0;
              Py_DECREF(__pyx_2); __pyx_2 = 0;
              {__pyx_filename = __pyx_f[0]; __pyx_lineno = 194; goto __pyx_L9;}
              goto __pyx_L29;
            }
            __pyx_L29:;

            /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":195 */
            intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
          }
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          goto __pyx_L26;
        }
        /*else*/ {
          __pyx_6 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L9;}
          for (;;) {
            __pyx_5 = PyIter_Next(__pyx_6);
            if (!__pyx_5) {
              if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L9;}
              break;
            }
            __pyx_1 = PyInt_AsLong(__pyx_5); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; goto __pyx_L9;}
            Py_DECREF(__pyx_5); __pyx_5 = 0;
            __pyx_v_elem = __pyx_1;
            intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
          }
          Py_DECREF(__pyx_6); __pyx_6 = 0;
        }
        __pyx_L26:;
      }
      __pyx_L15:;
    }
    goto __pyx_L10;
    __pyx_L9:;
    Py_XDECREF(__pyx_4); __pyx_4 = 0;
    Py_XDECREF(__pyx_2); __pyx_2 = 0;
    Py_XDECREF(__pyx_3); __pyx_3 = 0;
    Py_XDECREF(__pyx_5); __pyx_5 = 0;
    Py_XDECREF(__pyx_6); __pyx_6 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":199 */
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
    __pyx_8 = PyErr_ExceptionMatches(__pyx_4);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_8) {
      __Pyx_AddTraceback("intbitset.__cinit__");
      if (__Pyx_GetException(&__pyx_2, &__pyx_3, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; goto __pyx_L1;}
      Py_INCREF(__pyx_3);
      Py_DECREF(__pyx_v_msg);
      __pyx_v_msg = __pyx_3;
      __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k23p, __pyx_v_msg); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      __Pyx_Raise(__pyx_6, __pyx_4, 0);
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 200; goto __pyx_L1;}
      Py_DECREF(__pyx_2);
      Py_DECREF(__pyx_3);
      Py_DECREF(__pyx_5);
      goto __pyx_L10;
    }
    goto __pyx_L1;
    __pyx_L10:;
    goto __pyx_L3;
  }
  /*else*/ {
    __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
    Py_INCREF(__pyx_v_rhs);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
    __pyx_3 = PyObject_CallObject(__pyx_4, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_5 = PyNumber_Remainder(__pyx_k24p, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_6, __pyx_5, 0);
    Py_DECREF(__pyx_6); __pyx_6 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  }
  __pyx_L3:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("intbitset.intbitset.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_msg);
  Py_DECREF(__pyx_v_tmp);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static void __pyx_f_9intbitset_9intbitset___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_9intbitset_9intbitset___dealloc__(PyObject *__pyx_v_self) {
  int __pyx_1;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = (((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset != 0);
  if (__pyx_1) {
    intBitSetDestroy(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);
    goto __pyx_L2;
  }
  __pyx_L2:;

  Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_k25p;
static PyObject *__pyx_k26p;

static char __pyx_k25[] = "Negative numbers, not allowed";
static char __pyx_k26[] = "Element must be <= %s";

static int __pyx_f_9intbitset_9intbitset___contains__(PyObject *__pyx_v_self, PyObject *__pyx_arg_elem); /*proto*/
static int __pyx_f_9intbitset_9intbitset___contains__(PyObject *__pyx_v_self, PyObject *__pyx_arg_elem) {
  int __pyx_v_elem;
  int __pyx_r;
  bool_t __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_elem = PyInt_AsLong(__pyx_arg_elem); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 208; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":209 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
  if (__pyx_1) {
    __pyx_2 = (__pyx_v_elem < 0);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 211; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k25p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 211; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_2 = (__pyx_v_elem > maxelem);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
      __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
      __pyx_5 = PyNumber_Remainder(__pyx_k26p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, __pyx_5, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 213; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":214 */
  __pyx_r = (intBitSetIsInElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem) != 0);
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.__contains__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k27p;

static char __pyx_k27[] = "cannot compare intbitset using cmp()";

static int __pyx_f_9intbitset_9intbitset___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static int __pyx_f_9intbitset_9intbitset___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 217; goto __pyx_L1;}
  __Pyx_Raise(__pyx_1, __pyx_k27p, 0);
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  {__pyx_filename = __pyx_f[0]; __pyx_lineno = 217; goto __pyx_L1;}

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.__cmp__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset___richcmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs, int __pyx_v_op); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___richcmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs, int __pyx_v_op) {
  unsigned short __pyx_v_tmp;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 219; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":221 */
  __pyx_v_tmp = intBitSetCmp(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":222 */
  __pyx_1 = (__pyx_v_op == 0);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong((__pyx_v_tmp == 1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":224 */
  __pyx_1 = (__pyx_v_op == 1);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong((__pyx_v_tmp <= 1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":226 */
  __pyx_1 = (__pyx_v_op == 2);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong((__pyx_v_tmp == 0)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 227; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":228 */
  __pyx_1 = (__pyx_v_op == 3);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong((__pyx_v_tmp > 0)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 229; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":230 */
  __pyx_1 = (__pyx_v_op == 4);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong((__pyx_v_tmp == 2)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; goto __pyx_L1;}
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":232 */
  __pyx_1 = (__pyx_v_op == 5);
  if (__pyx_1) {
    __pyx_2 = PyInt_FromLong(__pyx_v_tmp); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_1 = PySequence_Contains(__pyx_5, __pyx_2); if (__pyx_1 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_3 = PyInt_FromLong(__pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 233; goto __pyx_L1;}
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
    goto __pyx_L7;
  }
  __pyx_L7:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.__richcmp__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static Py_ssize_t __pyx_f_9intbitset_9intbitset___len__(PyObject *__pyx_v_self); /*proto*/
static Py_ssize_t __pyx_f_9intbitset_9intbitset___len__(PyObject *__pyx_v_self) {
  Py_ssize_t __pyx_r;
  Py_INCREF(__pyx_v_self);
  __pyx_r = intBitSetGetTot(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static long __pyx_f_9intbitset_9intbitset___hash__(PyObject *__pyx_v_self); /*proto*/
static long __pyx_f_9intbitset_9intbitset___hash__(PyObject *__pyx_v_self) {
  long __pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyString_FromStringAndSize(((char *)((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->bitset),(wordbytesize * ((intBitSetGetTot(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset) / wordbitsize) + 1))); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; goto __pyx_L1;}
  __pyx_2 = PyObject_Hash(__pyx_1); if (__pyx_2 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 239; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.__hash__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_9intbitset_9intbitset___nonzero__(PyObject *__pyx_v_self); /*proto*/
static int __pyx_f_9intbitset_9intbitset___nonzero__(PyObject *__pyx_v_self) {
  int __pyx_r;
  Py_INCREF(__pyx_v_self);
  __pyx_r = (!intBitSetEmpty(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset));
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k28p;
static PyObject *__pyx_k29p;
static PyObject *__pyx_k30p;
static PyObject *__pyx_k31p;
static PyObject *__pyx_k32p;
static PyObject *__pyx_k33p;

static char __pyx_k28[] = "Negative numbers, not allowed";
static char __pyx_k29[] = "rhs must be <= %s";
static char __pyx_k30[] = "Negative numbers, not allowed";
static char __pyx_k31[] = "Elements must be <= %s";
static char __pyx_k32[] = "Negative numbers, not allowed";
static char __pyx_k33[] = "Elements must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___iadd__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  int __pyx_v_elem;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  bool_t __pyx_5;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":246 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_4 = PyObject_IsInstance(__pyx_v_rhs,__pyx_3); if (__pyx_4 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":247 */
    __pyx_5 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
    if (__pyx_5) {
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_rhs, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 248; goto __pyx_L1;}
      __pyx_4 = __pyx_4 < 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (__pyx_4) {
        __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; goto __pyx_L1;}
        __Pyx_Raise(__pyx_2, __pyx_k28p, 0);
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 249; goto __pyx_L1;}
        goto __pyx_L4;
      }
      __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 250; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_rhs, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 250; goto __pyx_L1;}
      __pyx_4 = __pyx_4 > 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
        __pyx_2 = PyInt_FromLong(maxelem); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
        __pyx_3 = PyNumber_Remainder(__pyx_k29p, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __Pyx_Raise(__pyx_1, __pyx_3, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
        goto __pyx_L4;
      }
      __pyx_L4:;
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":252 */
    __pyx_4 = PyInt_AsLong(__pyx_v_rhs); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 252; goto __pyx_L1;}
    intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_4);
    goto __pyx_L2;
  }
  __pyx_4 = PyObject_IsInstance(__pyx_v_rhs,((PyObject*)__pyx_ptype_9intbitset_intbitset)); if (__pyx_4 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 253; goto __pyx_L1;}
  if (__pyx_4) {
    intBitSetIUnion(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_5 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
    if (__pyx_5) {
      __pyx_2 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; goto __pyx_L1;}
      for (;;) {
        __pyx_1 = PyIter_Next(__pyx_2);
        if (!__pyx_1) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; goto __pyx_L1;}
          break;
        }
        __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 257; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_v_elem = __pyx_4;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":258 */
        __pyx_4 = (__pyx_v_elem < 0);
        if (__pyx_4) {
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 259; goto __pyx_L1;}
          __Pyx_Raise(__pyx_3, __pyx_k30p, 0);
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 259; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_4 = (__pyx_v_elem > maxelem);
        if (__pyx_4) {
          __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 261; goto __pyx_L1;}
          __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 261; goto __pyx_L1;}
          __pyx_6 = PyNumber_Remainder(__pyx_k31p, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 261; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          __Pyx_Raise(__pyx_1, __pyx_6, 0);
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 261; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":262 */
        intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
      }
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L5;
    }
    /*else*/ {
      __pyx_3 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
      for (;;) {
        __pyx_1 = PyIter_Next(__pyx_3);
        if (!__pyx_1) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
          break;
        }
        __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 264; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_v_elem = __pyx_4;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":265 */
        __pyx_4 = (__pyx_v_elem < 0);
        if (__pyx_4) {
          __pyx_6 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
          __Pyx_Raise(__pyx_6, __pyx_k32p, 0);
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 266; goto __pyx_L1;}
          goto __pyx_L11;
        }
        __pyx_4 = (__pyx_v_elem > maxelem);
        if (__pyx_4) {
          __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
          __pyx_1 = PyInt_FromLong(maxelem); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
          __pyx_6 = PyNumber_Remainder(__pyx_k33p, __pyx_1); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          __Pyx_Raise(__pyx_2, __pyx_6, 0);
          Py_DECREF(__pyx_2); __pyx_2 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 268; goto __pyx_L1;}
          goto __pyx_L11;
        }
        __pyx_L11:;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":269 */
        intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_L5:;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":270 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("intbitset.intbitset.__iadd__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_k34p;
static PyObject *__pyx_k35p;
static PyObject *__pyx_k36p;
static PyObject *__pyx_k37p;

static char __pyx_k34[] = "Negative numbers, not allowed";
static char __pyx_k35[] = "rhs must be <= %s";
static char __pyx_k36[] = "Negative numbers, not allowed";
static char __pyx_k37[] = "Elements must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___isub__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  int __pyx_v_elem;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  bool_t __pyx_5;
  PyObject *__pyx_6 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":274 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_int); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_long); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_4 = PyObject_IsInstance(__pyx_v_rhs,__pyx_3); if (__pyx_4 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 274; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  if (__pyx_4) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":275 */
    __pyx_5 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
    if (__pyx_5) {
      __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_rhs, __pyx_1, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 276; goto __pyx_L1;}
      __pyx_4 = __pyx_4 < 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      if (__pyx_4) {
        __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
        __Pyx_Raise(__pyx_2, __pyx_k34p, 0);
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 277; goto __pyx_L1;}
        goto __pyx_L4;
      }
      __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; goto __pyx_L1;}
      if (PyObject_Cmp(__pyx_v_rhs, __pyx_3, &__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 278; goto __pyx_L1;}
      __pyx_4 = __pyx_4 > 0;
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      if (__pyx_4) {
        __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
        __pyx_2 = PyInt_FromLong(maxelem); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
        __pyx_3 = PyNumber_Remainder(__pyx_k35p, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __Pyx_Raise(__pyx_1, __pyx_3, 0);
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        {__pyx_filename = __pyx_f[0]; __pyx_lineno = 279; goto __pyx_L1;}
        goto __pyx_L4;
      }
      __pyx_L4:;
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":280 */
    __pyx_4 = PyInt_AsLong(__pyx_v_rhs); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 280; goto __pyx_L1;}
    intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_4);
    goto __pyx_L2;
  }
  __pyx_4 = PyObject_IsInstance(__pyx_v_rhs,((PyObject*)__pyx_ptype_9intbitset_intbitset)); if (__pyx_4 == -1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; goto __pyx_L1;}
  if (__pyx_4) {
    intBitSetISub(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_5 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
    if (__pyx_5) {
      __pyx_2 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 285; goto __pyx_L1;}
      for (;;) {
        __pyx_1 = PyIter_Next(__pyx_2);
        if (!__pyx_1) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 285; goto __pyx_L1;}
          break;
        }
        __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 285; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_v_elem = __pyx_4;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":286 */
        __pyx_4 = (__pyx_v_elem < 0);
        if (__pyx_4) {
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; goto __pyx_L1;}
          __Pyx_Raise(__pyx_3, __pyx_k36p, 0);
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 287; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_4 = (__pyx_v_elem > maxelem);
        if (__pyx_4) {
          __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 289; goto __pyx_L1;}
          __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 289; goto __pyx_L1;}
          __pyx_6 = PyNumber_Remainder(__pyx_k37p, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 289; goto __pyx_L1;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          __Pyx_Raise(__pyx_1, __pyx_6, 0);
          Py_DECREF(__pyx_1); __pyx_1 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 289; goto __pyx_L1;}
          goto __pyx_L8;
        }
        __pyx_L8:;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":290 */
        intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
      }
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L5;
    }
    /*else*/ {
      __pyx_3 = PyObject_GetIter(__pyx_v_rhs); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
      for (;;) {
        __pyx_1 = PyIter_Next(__pyx_3);
        if (!__pyx_1) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
          break;
        }
        __pyx_4 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
        Py_DECREF(__pyx_1); __pyx_1 = 0;
        __pyx_v_elem = __pyx_4;
        intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_L5:;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":294 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("intbitset.intbitset.__isub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset___deepcopy__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___deepcopy__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_memo = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"memo",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_memo)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_memo);
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 297; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 297; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("intbitset.intbitset.__deepcopy__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_memo);
  return __pyx_r;
}

static PyObject *__pyx_k38p;
static PyObject *__pyx_k39p;

static char __pyx_k38[] = "Negative numbers, not allowed";
static char __pyx_k39[] = "Element must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset___del__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___del__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_elem;
  PyObject *__pyx_r;
  bool_t __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"elem",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "i", __pyx_argnames, &__pyx_v_elem)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":300 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
  if (__pyx_1) {
    __pyx_2 = (__pyx_v_elem < 0);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k38p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 302; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_2 = (__pyx_v_elem > maxelem);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; goto __pyx_L1;}
      __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; goto __pyx_L1;}
      __pyx_5 = PyNumber_Remainder(__pyx_k39p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, __pyx_5, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 304; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":305 */
  intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.__del__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_no_allocate;


static PyObject *__pyx_f_9intbitset_9intbitset___and__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___and__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 307; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":308 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_no_allocate, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 308; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_3;
  __pyx_3 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":309 */
  ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_ret)->bitset = intBitSetIntersection(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":310 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.__and__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}


static PyObject *__pyx_f_9intbitset_9intbitset___or__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___or__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 312; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":313 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_no_allocate, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 313; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_3;
  __pyx_3 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":314 */
  ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_ret)->bitset = intBitSetUnion(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":315 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.__or__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}


static PyObject *__pyx_f_9intbitset_9intbitset___xor__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___xor__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 317; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":318 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; goto __pyx_L1;}
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_no_allocate, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 318; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_3;
  __pyx_3 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":319 */
  ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_ret)->bitset = intBitSetXor(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":320 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.__xor__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}


static PyObject *__pyx_f_9intbitset_9intbitset___sub__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___sub__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":323 */
  __pyx_1 = PyTuple_New(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 323; goto __pyx_L1;}
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 323; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 323; goto __pyx_L1;}
  if (PyDict_SetItem(__pyx_2, __pyx_n_no_allocate, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 323; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_3 = PyEval_CallObjectWithKeywords(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 323; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_3;
  __pyx_3 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":324 */
  ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_ret)->bitset = intBitSetSub(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":325 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.__sub__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset___iand__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___iand__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":328 */
  intBitSetIIntersection(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":329 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("intbitset.intbitset.__iand__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset___ior__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___ior__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 331; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":332 */
  intBitSetIUnion(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":333 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("intbitset.intbitset.__ior__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset___ixor__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___ixor__(PyObject *__pyx_v_self, PyObject *__pyx_v_rhs) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_rhs), __pyx_ptype_9intbitset_intbitset, 0, "rhs")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 335; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":336 */
  intBitSetIXor(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_rhs)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":337 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("intbitset.intbitset.__ixor__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n_endswith;

static PyObject *__pyx_k44p;
static PyObject *__pyx_k45p;
static PyObject *__pyx_k46p;
static PyObject *__pyx_k47p;
static PyObject *__pyx_k48p;
static PyObject *__pyx_k49p;
static PyObject *__pyx_k50p;
static PyObject *__pyx_k51p;
static PyObject *__pyx_k52p;

static char __pyx_k44[] = "intbitset([";
static char __pyx_k45[] = "%i, ";
static char __pyx_k46[] = ", ";
static char __pyx_k47[] = "], trailing_bits=True)";
static char __pyx_k48[] = "intbitset([";
static char __pyx_k49[] = "%i, ";
static char __pyx_k50[] = "-2, ";
static char __pyx_k51[] = ", ";
static char __pyx_k52[] = "])";

static PyObject *__pyx_f_9intbitset_9intbitset___repr__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___repr__(PyObject *__pyx_v_self) {
  int __pyx_v_last;
  int __pyx_v_maxelem;
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  word_t __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":342 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits;
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":343 */
    __pyx_v_maxelem = (intBitSetGetSize(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset) * wordbitsize);

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":344 */
    Py_INCREF(__pyx_k44p);
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_k44p;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":345 */
    __pyx_v_last = (-1);

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":346 */
    while (1) {
      __pyx_2 = (__pyx_v_last < __pyx_v_maxelem);
      if (!__pyx_2) break;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":347 */
      __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_last);

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":348 */
      __pyx_3 = PyInt_FromLong(__pyx_v_last); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k45p, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      __pyx_3 = PyNumber_Add(__pyx_v_ret, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_3;
      __pyx_3 = 0;
    }

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":349 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_ret, __pyx_n_endswith); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
    Py_INCREF(__pyx_k46p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k46p);
    __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyObject_IsTrue(__pyx_5); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (__pyx_2) {
      __pyx_4 = PySequence_GetSlice(__pyx_v_ret, 0, (-2)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":351 */
    __pyx_3 = PyNumber_Add(__pyx_v_ret, __pyx_k47p); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 351; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_3;
    __pyx_3 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":352 */
    Py_INCREF(__pyx_v_ret);
    __pyx_r = __pyx_v_ret;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":354 */
    Py_INCREF(__pyx_k48p);
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_k48p;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":355 */
    __pyx_v_last = (-1);

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":356 */
    while (1) {
      __pyx_2 = (__pyx_v_last >= (-1));
      if (!__pyx_2) break;

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":357 */
      __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_last);

      /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":358 */
      __pyx_5 = PyInt_FromLong(__pyx_v_last); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 358; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k49p, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 358; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      __pyx_3 = PyNumber_Add(__pyx_v_ret, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 358; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_3;
      __pyx_3 = 0;
    }

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":359 */
    __pyx_5 = PySequence_GetSlice(__pyx_v_ret, 0, (-PyObject_Length(__pyx_k50p))); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 359; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_5;
    __pyx_5 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":360 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_ret, __pyx_n_endswith); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; goto __pyx_L1;}
    Py_INCREF(__pyx_k51p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k51p);
    __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_2 = PyObject_IsTrue(__pyx_5); if (__pyx_2 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 360; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    if (__pyx_2) {
      __pyx_4 = PySequence_GetSlice(__pyx_v_ret, 0, (-2)); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 361; goto __pyx_L1;}
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
      goto __pyx_L8;
    }
    __pyx_L8:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":362 */
    __pyx_3 = PyNumber_Add(__pyx_v_ret, __pyx_k52p); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 362; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_3;
    __pyx_3 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":363 */
    Py_INCREF(__pyx_v_ret);
    __pyx_r = __pyx_v_ret;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_to_sorted_list;
static PyObject *__pyx_n___repr__;

static PyObject *__pyx_k53p;
static PyObject *__pyx_k54p;
static PyObject *__pyx_k55p;
static PyObject *__pyx_k56p;
static PyObject *__pyx_k57p;
static PyObject *__pyx_k58p;
static PyObject *__pyx_k59p;
static PyObject *__pyx_k60p;

static char __pyx_k53[] = "intbitset([";
static char __pyx_k54[] = "%i, ";
static char __pyx_k55[] = "...])";
static char __pyx_k56[] = "intbitset([";
static char __pyx_k57[] = "%i, ";
static char __pyx_k58[] = "..., ";
static char __pyx_k59[] = "%i, ";
static char __pyx_k60[] = "])";

static PyObject *__pyx_f_9intbitset_9intbitset___str__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___str__(PyObject *__pyx_v_self) {
  int __pyx_v_tot;
  PyObject *__pyx_v_begin_list;
  PyObject *__pyx_v_ret;
  PyObject *__pyx_v_n;
  PyObject *__pyx_v_end_list;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_begin_list = Py_None; Py_INCREF(Py_None);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);
  __pyx_v_n = Py_None; Py_INCREF(Py_None);
  __pyx_v_end_list = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":367 */
  __pyx_v_tot = intBitSetGetTot(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":368 */
  __pyx_1 = (__pyx_v_tot < 0);
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":369 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_to_sorted_list); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(10); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_5, 1, __pyx_4);
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 369; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_v_begin_list);
    __pyx_v_begin_list = __pyx_3;
    __pyx_3 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":370 */
    Py_INCREF(__pyx_k53p);
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_k53p;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":371 */
    __pyx_4 = PyObject_GetIter(__pyx_v_begin_list); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 371; goto __pyx_L1;}
    for (;;) {
      __pyx_2 = PyIter_Next(__pyx_4);
      if (!__pyx_2) {
        if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 371; goto __pyx_L1;}
        break;
      }
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_2;
      __pyx_2 = 0;
      __pyx_5 = PyNumber_Remainder(__pyx_k54p, __pyx_v_n); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 372; goto __pyx_L1;}
      __pyx_3 = PyNumber_Add(__pyx_v_ret, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 372; goto __pyx_L1;}
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_3;
      __pyx_3 = 0;
    }
    Py_DECREF(__pyx_4); __pyx_4 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":373 */
    __pyx_2 = PyNumber_Add(__pyx_v_ret, __pyx_k55p); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 373; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_2;
    __pyx_2 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":374 */
    Py_INCREF(__pyx_v_ret);
    __pyx_r = __pyx_v_ret;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  __pyx_1 = (__pyx_v_tot > 10);
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":376 */
    __pyx_5 = PyObject_GetAttr(__pyx_v_self, __pyx_n_to_sorted_list); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_3);
    PyTuple_SET_ITEM(__pyx_2, 1, __pyx_4);
    __pyx_3 = 0;
    __pyx_4 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_5, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 376; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_v_begin_list);
    __pyx_v_begin_list = __pyx_3;
    __pyx_3 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":377 */
    __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n_to_sorted_list); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    __pyx_5 = PyInt_FromLong((__pyx_v_tot - 5)); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(__pyx_v_tot); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_5);
    PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
    __pyx_5 = 0;
    __pyx_2 = 0;
    __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 377; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_end_list);
    __pyx_v_end_list = __pyx_5;
    __pyx_5 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":378 */
    Py_INCREF(__pyx_k56p);
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_k56p;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":379 */
    __pyx_2 = PyObject_GetIter(__pyx_v_begin_list); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 379; goto __pyx_L1;}
    for (;;) {
      __pyx_4 = PyIter_Next(__pyx_2);
      if (!__pyx_4) {
        if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 379; goto __pyx_L1;}
        break;
      }
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_4;
      __pyx_4 = 0;
      __pyx_3 = PyNumber_Remainder(__pyx_k57p, __pyx_v_n); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; goto __pyx_L1;}
      __pyx_5 = PyNumber_Add(__pyx_v_ret, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 380; goto __pyx_L1;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_5;
      __pyx_5 = 0;
    }
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":381 */
    __pyx_4 = PyNumber_Add(__pyx_v_ret, __pyx_k58p); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 381; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_4;
    __pyx_4 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":382 */
    __pyx_3 = PyObject_GetIter(__pyx_v_end_list); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
    for (;;) {
      __pyx_5 = PyIter_Next(__pyx_3);
      if (!__pyx_5) {
        if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 382; goto __pyx_L1;}
        break;
      }
      Py_DECREF(__pyx_v_n);
      __pyx_v_n = __pyx_5;
      __pyx_5 = 0;
      __pyx_2 = PyNumber_Remainder(__pyx_k59p, __pyx_v_n); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 383; goto __pyx_L1;}
      __pyx_4 = PyNumber_Add(__pyx_v_ret, __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 383; goto __pyx_L1;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_ret);
      __pyx_v_ret = __pyx_4;
      __pyx_4 = 0;
    }
    Py_DECREF(__pyx_3); __pyx_3 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":384 */
    __pyx_5 = PySequence_GetSlice(__pyx_v_ret, 0, (-2)); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 384; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_5;
    __pyx_5 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":385 */
    __pyx_2 = PyNumber_Add(__pyx_v_ret, __pyx_k60p); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_2;
    __pyx_2 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":386 */
    Py_INCREF(__pyx_v_ret);
    __pyx_r = __pyx_v_ret;
    goto __pyx_L0;
    goto __pyx_L2;
  }
  /*else*/ {
    __pyx_4 = PyObject_GetAttr(__pyx_v_self, __pyx_n___repr__); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
    __pyx_3 = PyObject_CallObject(__pyx_4, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 388; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __pyx_r = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L0;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.__str__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_begin_list);
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_n);
  Py_DECREF(__pyx_v_end_list);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k61p;

static char __pyx_k61[] = "It's impossible to iterate over an infinite set.";

static PyObject *__pyx_f_9intbitset_9intbitset___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  word_t __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":416 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits;
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 417; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k61p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 417; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":418 */
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_self);
  __pyx_3 = PyObject_CallObject(((PyObject*)__pyx_ptype_9intbitset_intbitset_iterator), __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.__iter__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k62p;
static PyObject *__pyx_k63p;

static char __pyx_k62[] = "Negative numbers, not allowed";
static char __pyx_k63[] = "Element must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset_add(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_add[] = "Add an element to a set.\n        This has no effect if the element is already present.";
static PyObject *__pyx_f_9intbitset_9intbitset_add(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_elem;
  PyObject *__pyx_r;
  bool_t __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"elem",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "i", __pyx_argnames, &__pyx_v_elem)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":424 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
  if (__pyx_1) {
    __pyx_2 = (__pyx_v_elem < 0);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 426; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k62p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 426; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_2 = (__pyx_v_elem > maxelem);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
      __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
      __pyx_5 = PyNumber_Remainder(__pyx_k63p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, __pyx_5, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":429 */
  intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.add");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_clear(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset_clear(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  intBitSetReset(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n___sub__;

static PyObject *__pyx_f_9intbitset_9intbitset_difference(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_difference[] = "Return the difference of two intbitsets as a new set.\n        (i.e. all elements that are in this intbitset but not the other.)\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_difference(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___sub__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.difference");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___isub__;

static PyObject *__pyx_f_9intbitset_9intbitset_difference_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_difference_update[] = "Remove all elements of another set from this set.";
static PyObject *__pyx_f_9intbitset_9intbitset_difference_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___isub__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.difference_update");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_k64p;
static PyObject *__pyx_k65p;

static char __pyx_k64[] = "Negative numbers, not allowed";
static char __pyx_k65[] = "Element must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset_discard(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_discard[] = "Remove an element from a intbitset if it is a member.\n        If the element is not a member, do nothing.";
static PyObject *__pyx_f_9intbitset_9intbitset_discard(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_elem;
  PyObject *__pyx_r;
  bool_t __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"elem",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "i", __pyx_argnames, &__pyx_v_elem)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":447 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
  if (__pyx_1) {
    __pyx_2 = (__pyx_v_elem < 0);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 449; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k64p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 449; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_2 = (__pyx_v_elem > maxelem);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
      __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
      __pyx_5 = PyNumber_Remainder(__pyx_k65p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, __pyx_5, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 451; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":452 */
  intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.discard");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n___and__;

static PyObject *__pyx_f_9intbitset_9intbitset_intersection(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_intersection[] = "Return the intersection of two intbitsets as a new set.\n        (i.e. all elements that are in both intbitsets.)\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_intersection(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___and__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 458; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 458; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 458; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.intersection");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___iand__;

static PyObject *__pyx_f_9intbitset_9intbitset_intersection_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_intersection_update[] = "Update a intbitset with the intersection of itself and another.";
static PyObject *__pyx_f_9intbitset_9intbitset_intersection_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___iand__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 462; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 462; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 462; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.intersection_update");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___or__;

static PyObject *__pyx_f_9intbitset_9intbitset_union(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_union[] = "Return the union of two intbitsets as a new set.\n        (i.e. all elements that are in either intbitsets.)\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_union(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___or__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 468; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.union");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___ior__;

static PyObject *__pyx_f_9intbitset_9intbitset_union_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_union_update[] = "Update a intbitset with the union of itself and another.";
static PyObject *__pyx_f_9intbitset_9intbitset_union_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___ior__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 472; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.union_update");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___le__;

static PyObject *__pyx_f_9intbitset_9intbitset_issubset(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_issubset[] = "Report whether another set contains this set.";
static PyObject *__pyx_f_9intbitset_9intbitset_issubset(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___le__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 476; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.issubset");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___ge__;

static PyObject *__pyx_f_9intbitset_9intbitset_issuperset(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_issuperset[] = "Report whether this set contains another set.";
static PyObject *__pyx_f_9intbitset_9intbitset_issuperset(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___ge__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.issuperset");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___xor__;

static PyObject *__pyx_f_9intbitset_9intbitset_symmetric_difference(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_symmetric_difference[] = "Return the symmetric difference of two sets as a new set.\n        (i.e. all elements that are in exactly one of the sets.)\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_symmetric_difference(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___xor__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 486; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 486; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 486; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.symmetric_difference");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n___ixor__;

static PyObject *__pyx_f_9intbitset_9intbitset_symmetric_difference_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_symmetric_difference_update[] = "Update an intbitset with the symmetric difference of itself and another.\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_symmetric_difference_update(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___ixor__); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 491; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 491; goto __pyx_L1;}
  Py_INCREF(__pyx_v_rhs);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_rhs);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 491; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.symmetric_difference_update");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_n_compress;

static PyObject *__pyx_f_9intbitset_9intbitset_fastdump(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_fastdump[] = "Return a compressed string representation suitable to be saved\n        somewhere.";
static PyObject *__pyx_f_9intbitset_9intbitset_fastdump(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  Py_ssize_t __pyx_v_size;
  PyObject *__pyx_v_tmp;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_tmp = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":498 */
  __pyx_v_size = intBitSetGetSize(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":499 */
  __pyx_1 = PyString_FromStringAndSize(((char *)((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->bitset),((__pyx_v_size + 1) * wordbytesize)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
  Py_DECREF(__pyx_v_tmp);
  __pyx_v_tmp = __pyx_1;
  __pyx_1 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":500 */
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_zlib); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_compress); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
  Py_INCREF(__pyx_v_tmp);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_tmp);
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.fastdump");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmp);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k66p;

static char __pyx_k66[] = "strdump is corrupted";

static PyObject *__pyx_f_9intbitset_9intbitset_fastload(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_fastload[] = "Load a compressed string representation produced by a previous call\n        to the fastdump method into the current intbitset. The previous content\n        will be replaced.";
static PyObject *__pyx_f_9intbitset_9intbitset_fastload(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_strdump = 0;
  Py_ssize_t __pyx_v_size;
  void *__pyx_v_buf;
  PyObject *__pyx_v_tmp;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"strdump",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_strdump)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_strdump);
  __pyx_v_tmp = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":508 */
  __pyx_v_buf = NULL;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":509 */
  __pyx_v_size = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":510 */
  /*try:*/ {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":511 */
    __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_type); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L2;}
    __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L2;}
    Py_INCREF(__pyx_v_strdump);
    PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_strdump);
    __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L2;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_array); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L2;}
    __pyx_4 = __pyx_3 == __pyx_1;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_4) {
      __pyx_2 = PyObject_GetAttr(__pyx_v_strdump, __pyx_n_tostring); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; goto __pyx_L2;}
      __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; goto __pyx_L2;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      Py_DECREF(__pyx_v_strdump);
      __pyx_v_strdump = __pyx_3;
      __pyx_3 = 0;
      goto __pyx_L4;
    }
    __pyx_L4:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":514 */
    __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_zlib); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L2;}
    __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_decompress); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L2;}
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L2;}
    Py_INCREF(__pyx_v_strdump);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_strdump);
    __pyx_1 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L2;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_tmp);
    __pyx_v_tmp = __pyx_1;
    __pyx_1 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":515 */
    __pyx_4 = (PyObject_AsReadBuffer(__pyx_v_tmp,(&__pyx_v_buf),(&__pyx_v_size)) < 0);
    if (__pyx_4) {
      __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L2;}
      __Pyx_Raise(__pyx_2, 0, 0);
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 516; goto __pyx_L2;}
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":517 */
    intBitSetResetFromBuffer(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_buf,__pyx_v_size);
  }
  goto __pyx_L3;
  __pyx_L2:;
  Py_XDECREF(__pyx_3); __pyx_3 = 0;
  Py_XDECREF(__pyx_1); __pyx_1 = 0;
  Py_XDECREF(__pyx_2); __pyx_2 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":518 */
  /*except:*/ {
    __Pyx_AddTraceback("intbitset.fastload");
    if (__Pyx_GetException(&__pyx_3, &__pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 518; goto __pyx_L1;}
    __pyx_5 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
    __Pyx_Raise(__pyx_5, __pyx_k66p, 0);
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 519; goto __pyx_L1;}
    Py_DECREF(__pyx_3);
    Py_DECREF(__pyx_1);
    Py_DECREF(__pyx_2);
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":520 */
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.fastload");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_tmp);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_strdump);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_copy(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_copy[] = "Return a shallow copy of a set.";
static PyObject *__pyx_f_9intbitset_9intbitset_copy(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 524; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_self);
  __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 524; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("intbitset.intbitset.copy");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_KeyError;

static PyObject *__pyx_k67p;

static char __pyx_k67[] = "pop from an empty intbitset";

static PyObject *__pyx_f_9intbitset_9intbitset_pop(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_pop[] = "Remove and return an arbitrary set element.";
static PyObject *__pyx_f_9intbitset_9intbitset_pop(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_ret;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":529 */
  __pyx_v_ret = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,(-1));

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":530 */
  __pyx_1 = (__pyx_v_ret < 0);
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k67p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":532 */
  intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_ret);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":533 */
  __pyx_2 = PyInt_FromLong(__pyx_v_ret); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 533; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("intbitset.intbitset.pop");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k68p;
static PyObject *__pyx_k69p;

static char __pyx_k68[] = "Negative numbers, not allowed";
static char __pyx_k69[] = "Elements must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset_remove(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_remove[] = "Remove an element from a set; it must be a member.\n        If the element is not a member, raise a KeyError.\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_remove(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_elem;
  PyObject *__pyx_r;
  bool_t __pyx_1;
  int __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"elem",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "i", __pyx_argnames, &__pyx_v_elem)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":539 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
  if (__pyx_1) {
    __pyx_2 = (__pyx_v_elem < 0);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 541; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k68p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 541; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_2 = (__pyx_v_elem > maxelem);
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
      __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
      __pyx_5 = PyNumber_Remainder(__pyx_k69p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __Pyx_Raise(__pyx_3, __pyx_5, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":544 */
  __pyx_1 = intBitSetIsInElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
  if (__pyx_1) {
    intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_elem);
    goto __pyx_L4;
  }
  /*else*/ {
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_KeyError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(__pyx_v_elem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_3, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 547; goto __pyx_L1;}
  }
  __pyx_L4:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.remove");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k70p;
static PyObject *__pyx_k71p;
static PyObject *__pyx_k72p;
static PyObject *__pyx_k73p;

static char __pyx_k70[] = "It's impossible to print an infinite set.";
static char __pyx_k71[] = "";
static char __pyx_k72[] = "0";
static char __pyx_k73[] = "1";

static PyObject *__pyx_f_9intbitset_9intbitset_strbits(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_strbits[] = "Return a string of 0s and 1s representing the content in memory\n        of the intbitset.\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_strbits(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_i;
  int __pyx_v_last;
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  word_t __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":555 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits;
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 556; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k70p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 556; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":557 */
  __pyx_v_last = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":558 */
  Py_INCREF(__pyx_k71p);
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_k71p;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":559 */
  __pyx_2 = PyObject_GetIter(__pyx_v_self); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 559; goto __pyx_L1;}
  for (;;) {
    __pyx_3 = PyIter_Next(__pyx_2);
    if (!__pyx_3) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 559; goto __pyx_L1;}
      break;
    }
    __pyx_4 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 559; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_v_i = __pyx_4;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":560 */
    __pyx_3 = PyInt_FromLong((__pyx_v_i - __pyx_v_last)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
    __pyx_5 = PyNumber_Multiply(__pyx_k72p, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_3 = PyNumber_Add(__pyx_v_ret, __pyx_5); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    __pyx_5 = PyNumber_Add(__pyx_3, __pyx_k73p); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_ret);
    __pyx_v_ret = __pyx_5;
    __pyx_5 = 0;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":561 */
    __pyx_v_last = (__pyx_v_i + 1);
  }
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":562 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.strbits");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_iteritems;
static PyObject *__pyx_n_AttributeError;

static PyObject *__pyx_k74p;
static PyObject *__pyx_k75p;
static PyObject *__pyx_k76p;

static char __pyx_k74[] = "Negative numbers, not allowed";
static char __pyx_k75[] = "Elements must <= %s";
static char __pyx_k76[] = "rhs should be a valid dictionary with integers keys and integer values";

static PyObject *__pyx_f_9intbitset_9intbitset_update_with_signs(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_update_with_signs[] = "Given a dictionary rhs whose keys are integers, remove all the integers\n        whose value are less than 0 and add every integer whose value is 0 or more";
static PyObject *__pyx_f_9intbitset_9intbitset_update_with_signs(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_rhs = 0;
  int __pyx_v_value;
  PyObject *__pyx_v_sign;
  PyObject *__pyx_r;
  bool_t __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  int __pyx_5;
  PyObject *__pyx_6 = 0;
  static char *__pyx_argnames[] = {"rhs",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_rhs)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_rhs);
  __pyx_v_sign = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":568 */
  /*try:*/ {
    __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
    if (__pyx_1) {
      __pyx_2 = PyObject_GetAttr(__pyx_v_rhs, __pyx_n_iteritems); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
      __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      __pyx_2 = PyObject_GetIter(__pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      for (;;) {
        __pyx_3 = PyIter_Next(__pyx_2);
        if (!__pyx_3) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
          break;
        }
        __pyx_4 = PyObject_GetIter(__pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_3 = __Pyx_UnpackItem(__pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
        __pyx_5 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        __pyx_v_value = __pyx_5;
        __pyx_3 = __Pyx_UnpackItem(__pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
        Py_DECREF(__pyx_v_sign);
        __pyx_v_sign = __pyx_3;
        __pyx_3 = 0;
        if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L2;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":571 */
        __pyx_5 = (__pyx_v_value < 0);
        if (__pyx_5) {
          __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_ValueError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; goto __pyx_L2;}
          __Pyx_Raise(__pyx_3, __pyx_k74p, 0);
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 572; goto __pyx_L2;}
          goto __pyx_L7;
        }
        __pyx_5 = (__pyx_v_value > maxelem);
        if (__pyx_5) {
          __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L2;}
          __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L2;}
          __pyx_6 = PyNumber_Remainder(__pyx_k75p, __pyx_3); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L2;}
          Py_DECREF(__pyx_3); __pyx_3 = 0;
          __Pyx_Raise(__pyx_4, __pyx_6, 0);
          Py_DECREF(__pyx_4); __pyx_4 = 0;
          Py_DECREF(__pyx_6); __pyx_6 = 0;
          {__pyx_filename = __pyx_f[0]; __pyx_lineno = 574; goto __pyx_L2;}
          goto __pyx_L7;
        }
        __pyx_L7:;

        /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":575 */
        __pyx_3 = PyInt_FromLong(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; goto __pyx_L2;}
        if (PyObject_Cmp(__pyx_v_sign, __pyx_3, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 575; goto __pyx_L2;}
        __pyx_5 = __pyx_5 < 0;
        Py_DECREF(__pyx_3); __pyx_3 = 0;
        if (__pyx_5) {
          intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_value);
          goto __pyx_L8;
        }
        /*else*/ {
          intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_value);
        }
        __pyx_L8:;
      }
      Py_DECREF(__pyx_2); __pyx_2 = 0;
      goto __pyx_L4;
    }
    /*else*/ {
      __pyx_4 = PyObject_GetAttr(__pyx_v_rhs, __pyx_n_iteritems); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
      __pyx_6 = PyObject_CallObject(__pyx_4, 0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      __pyx_3 = PyObject_GetIter(__pyx_6); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
      Py_DECREF(__pyx_6); __pyx_6 = 0;
      for (;;) {
        __pyx_2 = PyIter_Next(__pyx_3);
        if (!__pyx_2) {
          if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
          break;
        }
        __pyx_4 = PyObject_GetIter(__pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
        Py_DECREF(__pyx_2); __pyx_2 = 0;
        __pyx_6 = __Pyx_UnpackItem(__pyx_4); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
        __pyx_5 = PyInt_AsLong(__pyx_6); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        __pyx_v_value = __pyx_5;
        __pyx_2 = __Pyx_UnpackItem(__pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
        Py_DECREF(__pyx_v_sign);
        __pyx_v_sign = __pyx_2;
        __pyx_2 = 0;
        if (__Pyx_EndUnpack(__pyx_4) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L2;}
        Py_DECREF(__pyx_4); __pyx_4 = 0;
        __pyx_6 = PyInt_FromLong(0); if (!__pyx_6) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L2;}
        if (PyObject_Cmp(__pyx_v_sign, __pyx_6, &__pyx_5) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 581; goto __pyx_L2;}
        __pyx_5 = __pyx_5 < 0;
        Py_DECREF(__pyx_6); __pyx_6 = 0;
        if (__pyx_5) {
          intBitSetDelElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_value);
          goto __pyx_L11;
        }
        /*else*/ {
          intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_value);
        }
        __pyx_L11:;
      }
      Py_DECREF(__pyx_3); __pyx_3 = 0;
    }
    __pyx_L4:;
  }
  goto __pyx_L3;
  __pyx_L2:;
  Py_XDECREF(__pyx_2); __pyx_2 = 0;
  Py_XDECREF(__pyx_4); __pyx_4 = 0;
  Py_XDECREF(__pyx_6); __pyx_6 = 0;
  Py_XDECREF(__pyx_3); __pyx_3 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":585 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_AttributeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
  __pyx_5 = PyErr_ExceptionMatches(__pyx_2);
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (__pyx_5) {
    __Pyx_AddTraceback("intbitset.update_with_signs");
    if (__Pyx_GetException(&__pyx_4, &__pyx_6, &__pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 585; goto __pyx_L1;}
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_TypeError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k76p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 586; goto __pyx_L1;}
    Py_DECREF(__pyx_4);
    Py_DECREF(__pyx_6);
    Py_DECREF(__pyx_3);
    goto __pyx_L3;
  }
  goto __pyx_L1;
  __pyx_L3:;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_6);
  __Pyx_AddTraceback("intbitset.intbitset.update_with_signs");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_sign);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_rhs);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_get_size(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset_get_size(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyInt_FromLong(intBitSetGetSize(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 589; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.get_size");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_get_allocated(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset_get_allocated(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyInt_FromLong(intBitSetGetAllocated(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 592; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.get_allocated");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_IndexError;

static PyObject *__pyx_k77p;
static PyObject *__pyx_k78p;
static PyObject *__pyx_k79p;

static char __pyx_k77[] = "It's impossible to retrieve a negative item from an infinite set.";
static char __pyx_k78[] = "Index must be <= %s";
static char __pyx_k79[] = "intbitset index out of range";

static PyObject *__pyx_f_9intbitset_9intbitset_get_sorted_element(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_get_sorted_element[] = "Return element at position index in the sorted representation of the\n        set. Note that index must be less than len(self)";
static PyObject *__pyx_f_9intbitset_9intbitset_get_sorted_element(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_index;
  int __pyx_v_l;
  int __pyx_v_last;
  int __pyx_v_i;
  PyObject *__pyx_r;
  int __pyx_1;
  word_t __pyx_2;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"index",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "i", __pyx_argnames, &__pyx_v_index)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":600 */
  __pyx_v_l = intBitSetGetTot(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":601 */
  __pyx_1 = (__pyx_v_index < 0);
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":602 */
    __pyx_2 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits;
    if (__pyx_2) {
      __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
      __Pyx_Raise(__pyx_3, __pyx_k77p, 0);
      Py_DECREF(__pyx_3); __pyx_3 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 603; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_L3:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":604 */
    __pyx_v_index = (__pyx_v_index + __pyx_v_l);
    goto __pyx_L2;
  }
  __pyx_1 = (__pyx_v_index > maxelem);
  if (__pyx_1) {
    __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 606; goto __pyx_L1;}
    __pyx_4 = PyInt_FromLong(maxelem); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 606; goto __pyx_L1;}
    __pyx_5 = PyNumber_Remainder(__pyx_k78p, __pyx_4); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 606; goto __pyx_L1;}
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    __Pyx_Raise(__pyx_3, __pyx_5, 0);
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 606; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":607 */
  __pyx_1 = 0 <= __pyx_v_index;
  if (__pyx_1) {
    __pyx_1 = __pyx_v_index < __pyx_v_l;
  }
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":608 */
    __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,(-1));

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":609 */
    for (__pyx_v_i = 0; __pyx_v_i < __pyx_v_index; ++__pyx_v_i) {
      __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_last);
    }
    goto __pyx_L4;
  }
  /*else*/ {
    __pyx_4 = __Pyx_GetName(__pyx_b, __pyx_n_IndexError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 612; goto __pyx_L1;}
    __Pyx_Raise(__pyx_4, __pyx_k79p, 0);
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 612; goto __pyx_L1;}
  }
  __pyx_L4:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":613 */
  __pyx_3 = PyInt_FromLong(__pyx_v_last); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 613; goto __pyx_L1;}
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.get_sorted_element");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k80p;
static PyObject *__pyx_k81p;

static char __pyx_k80[] = "It's impossible to retrieve a sublist using negative indices from an infinite set.";
static char __pyx_k81[] = "Indexes must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset_to_sorted_list(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_to_sorted_list[] = "Return a sublist of the sorted representation of the set.\n        Note, negative indices are not supported.";
static PyObject *__pyx_f_9intbitset_9intbitset_to_sorted_list(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_i;
  int __pyx_v_j;
  int __pyx_v_l;
  int __pyx_v_last;
  int __pyx_v_cnt;
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"i","j",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "ii", __pyx_argnames, &__pyx_v_i, &__pyx_v_j)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":621 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits;
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_i < 0);
    if (!__pyx_1) {
      __pyx_1 = (__pyx_v_j < 0);
    }
  }
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k80p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 622; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_1 = (__pyx_v_i > maxelem);
  if (!__pyx_1) {
    __pyx_1 = (__pyx_v_j > maxelem);
  }
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    __pyx_4 = PyNumber_Remainder(__pyx_k81p, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, __pyx_4, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 624; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":625 */
  __pyx_v_l = intBitSetGetTot(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":626 */
  __pyx_1 = (__pyx_v_i == 0);
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_j == (-1));
  }
  if (__pyx_1) {
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    Py_INCREF(__pyx_v_self);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
    __pyx_2 = PyObject_CallObject(((PyObject*)__pyx_ptype_9intbitset_intbitset), __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 627; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __pyx_r = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":628 */
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_9intbitset_intbitset), 0); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 628; goto __pyx_L1;}
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_4;
  __pyx_4 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":629 */
  __pyx_1 = (__pyx_v_i < 0);
  if (__pyx_1) {
    __pyx_v_i = (__pyx_v_i + __pyx_v_l);
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":631 */
  __pyx_1 = (__pyx_v_j < 0);
  if (__pyx_1) {
    __pyx_v_j = (__pyx_v_j + __pyx_v_l);
    goto __pyx_L5;
  }
  __pyx_L5:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":633 */
  __pyx_1 = (__pyx_v_i >= __pyx_v_l);
  if (__pyx_1) {
    __pyx_v_i = __pyx_v_l;
    goto __pyx_L6;
  }
  __pyx_L6:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":635 */
  __pyx_1 = (__pyx_v_j >= __pyx_v_l);
  if (__pyx_1) {
    __pyx_v_j = __pyx_v_l;
    goto __pyx_L7;
  }
  __pyx_L7:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":637 */
  __pyx_v_last = (-1);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":638 */
  for (__pyx_v_cnt = 0; __pyx_v_cnt < __pyx_v_i; ++__pyx_v_cnt) {
    __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_last);
  }

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":640 */
  for (__pyx_v_cnt = __pyx_v_i; __pyx_v_cnt < __pyx_v_j; ++__pyx_v_cnt) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":641 */
    __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_last);

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":642 */
    intBitSetAddElem(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_ret)->bitset,__pyx_v_last);
  }

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":643 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("intbitset.intbitset.to_sorted_list");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_is_infinite(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_is_infinite[] = "Return True if the intbitset is infinite. (i.e. trailing_bits=True\n        was used in the constructor.)";
static PyObject *__pyx_f_9intbitset_9intbitset_is_infinite(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyInt_FromLong((((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits != 0)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 648; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.is_infinite");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_append;

static PyObject *__pyx_k82p;

static char __pyx_k82[] = "up_to must be <= %s";

static PyObject *__pyx_f_9intbitset_9intbitset_extract_finite_list(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_extract_finite_list[] = "Return a finite list of elements sufficient to be passed to intbitset\n        constructor toghether with the proper value of trailing_bits in order\n        to reproduce this intbitset. At least up_to integer are looked for when\n        they are inside the intbitset but not necessarily needed to build the\n        intbitset";
static PyObject *__pyx_f_9intbitset_9intbitset_extract_finite_list(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_up_to;
  int __pyx_v_true_up_to;
  int __pyx_v_last;
  PyObject *__pyx_v_ret;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"up_to",0};
  __pyx_v_up_to = __pyx_k12;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "|i", __pyx_argnames, &__pyx_v_up_to)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_ret = Py_None; Py_INCREF(Py_None);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":658 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->sanity_checks;
  if (__pyx_1) {
    __pyx_1 = (__pyx_v_up_to > maxelem);
  }
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(maxelem); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
    __pyx_4 = PyNumber_Remainder(__pyx_k82p, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    __Pyx_Raise(__pyx_2, __pyx_4, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 659; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":660 */
  __pyx_3 = PyList_New(0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 660; goto __pyx_L1;}
  Py_DECREF(__pyx_v_ret);
  __pyx_v_ret = __pyx_3;
  __pyx_3 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":661 */
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_max); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 661; goto __pyx_L1;}
  __pyx_4 = PyInt_FromLong(__pyx_v_up_to); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 661; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong((intBitSetGetSize(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset) * wordbitsize)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 661; goto __pyx_L1;}
  __pyx_5 = PyTuple_New(2); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 661; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_5, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_5, 1, __pyx_3);
  __pyx_4 = 0;
  __pyx_3 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 661; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_5); __pyx_5 = 0;
  __pyx_1 = PyInt_AsLong(__pyx_4); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 661; goto __pyx_L1;}
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  __pyx_v_true_up_to = __pyx_1;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":662 */
  __pyx_v_last = (-1);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":663 */
  while (1) {
    __pyx_1 = (__pyx_v_last < __pyx_v_true_up_to);
    if (!__pyx_1) break;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":664 */
    __pyx_v_last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset,__pyx_v_last);

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":665 */
    __pyx_1 = (__pyx_v_last == (-2));
    if (__pyx_1) {
      goto __pyx_L4;
      goto __pyx_L5;
    }
    __pyx_L5:;

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":667 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_ret, __pyx_n_append); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 667; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(__pyx_v_last); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 667; goto __pyx_L1;}
    __pyx_5 = PyTuple_New(1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 667; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_5, 0, __pyx_2);
    __pyx_2 = 0;
    __pyx_4 = PyObject_CallObject(__pyx_3, __pyx_5); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 667; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_5); __pyx_5 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
  }
  __pyx_L4:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":668 */
  Py_INCREF(__pyx_v_ret);
  __pyx_r = __pyx_v_ret;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("intbitset.intbitset.extract_finite_list");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_ret);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_get_wordbitsize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset_get_wordbitsize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyInt_FromLong(wordbitsize); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 671; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.get_wordbitsize");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_9intbitset_get_wordbytsize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_9intbitset_9intbitset_get_wordbytsize(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_1 = PyInt_FromLong(wordbytesize); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 674; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("intbitset.intbitset.get_wordbytsize");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_extract_finite_list;

static PyObject *__pyx_k83p;

static char __pyx_k83[] = "It's impossible to retrieve a list of an infinite set";

static PyObject *__pyx_f_9intbitset_9intbitset_tolist(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_9intbitset_9intbitset_tolist[] = "Legacy method to retrieve a list of all the elements inside an\n        intbitset.\n        ";
static PyObject *__pyx_f_9intbitset_9intbitset_tolist(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  word_t __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":680 */
  __pyx_1 = ((struct __pyx_obj_9intbitset_intbitset *)__pyx_v_self)->bitset->trailing_bits;
  if (__pyx_1) {
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_OverflowError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k83p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 681; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":682 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n_extract_finite_list); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 682; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 682; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_3;
  __pyx_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("intbitset.intbitset.tolist");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_9intbitset_18intbitset_iterator___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_9intbitset_18intbitset_iterator___cinit__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_9intbitset_intbitset *__pyx_v_bitset = 0;
  int __pyx_r;
  static char *__pyx_argnames[] = {"bitset",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_bitset)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_bitset);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_bitset), __pyx_ptype_9intbitset_intbitset, 0, "bitset")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 688; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":689 */
  ((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->last = (-1);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":690 */
  ((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->bitset = __pyx_v_bitset->bitset;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("intbitset.intbitset_iterator.__cinit__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_bitset);
  return __pyx_r;
}

static PyObject *__pyx_n_StopIteration;

static PyObject *__pyx_f_9intbitset_18intbitset_iterator___next__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_9intbitset_18intbitset_iterator___next__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":693 */
  ((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->last = intBitSetGetNext(((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->bitset,((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->last);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":694 */
  __pyx_1 = (((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->last < 0);
  if (__pyx_1) {

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":695 */
    ((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->last = (-2);

    /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":696 */
    __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_StopIteration); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 696; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, 0, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 696; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":697 */
  __pyx_2 = PyInt_FromLong(((struct __pyx_obj_9intbitset_intbitset_iterator *)__pyx_v_self)->last); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 697; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("intbitset.intbitset_iterator.__next__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_9intbitset_18intbitset_iterator___iter__(PyObject *__pyx_v_self); /*proto*/
static PyObject *__pyx_f_9intbitset_18intbitset_iterator___iter__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_self);
  __pyx_r = __pyx_v_self;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(Py_None);
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_AttributeError, "AttributeError"},
  {&__pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS, "CFG_INTBITSET_ENABLE_SANITY_CHECKS"},
  {&__pyx_n_Error, "Error"},
  {&__pyx_n_Exception, "Exception"},
  {&__pyx_n_IndexError, "IndexError"},
  {&__pyx_n_KeyError, "KeyError"},
  {&__pyx_n_OverflowError, "OverflowError"},
  {&__pyx_n_StopIteration, "StopIteration"},
  {&__pyx_n_TypeError, "TypeError"},
  {&__pyx_n_ValueError, "ValueError"},
  {&__pyx_n___and__, "__and__"},
  {&__pyx_n___apilevel__, "__apilevel__"},
  {&__pyx_n___ge__, "__ge__"},
  {&__pyx_n___iand__, "__iand__"},
  {&__pyx_n___ior__, "__ior__"},
  {&__pyx_n___isub__, "__isub__"},
  {&__pyx_n___iter__, "__iter__"},
  {&__pyx_n___ixor__, "__ixor__"},
  {&__pyx_n___le__, "__le__"},
  {&__pyx_n___maxelem__, "__maxelem__"},
  {&__pyx_n___or__, "__or__"},
  {&__pyx_n___repr__, "__repr__"},
  {&__pyx_n___revision__, "__revision__"},
  {&__pyx_n___sub__, "__sub__"},
  {&__pyx_n___xor__, "__xor__"},
  {&__pyx_n_append, "append"},
  {&__pyx_n_array, "array"},
  {&__pyx_n_compress, "compress"},
  {&__pyx_n_decompress, "decompress"},
  {&__pyx_n_endswith, "endswith"},
  {&__pyx_n_extract_finite_list, "extract_finite_list"},
  {&__pyx_n_int, "int"},
  {&__pyx_n_iteritems, "iteritems"},
  {&__pyx_n_long, "long"},
  {&__pyx_n_max, "max"},
  {&__pyx_n_no_allocate, "no_allocate"},
  {&__pyx_n_str, "str"},
  {&__pyx_n_to_sorted_list, "to_sorted_list"},
  {&__pyx_n_tostring, "tostring"},
  {&__pyx_n_type, "type"},
  {&__pyx_n_zlib, "zlib"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k1p, __pyx_k1, sizeof(__pyx_k1)},
  {&__pyx_k5p, __pyx_k5, sizeof(__pyx_k5)},
  {&__pyx_k14p, __pyx_k14, sizeof(__pyx_k14)},
  {&__pyx_k15p, __pyx_k15, sizeof(__pyx_k15)},
  {&__pyx_k16p, __pyx_k16, sizeof(__pyx_k16)},
  {&__pyx_k18p, __pyx_k18, sizeof(__pyx_k18)},
  {&__pyx_k19p, __pyx_k19, sizeof(__pyx_k19)},
  {&__pyx_k20p, __pyx_k20, sizeof(__pyx_k20)},
  {&__pyx_k21p, __pyx_k21, sizeof(__pyx_k21)},
  {&__pyx_k22p, __pyx_k22, sizeof(__pyx_k22)},
  {&__pyx_k23p, __pyx_k23, sizeof(__pyx_k23)},
  {&__pyx_k24p, __pyx_k24, sizeof(__pyx_k24)},
  {&__pyx_k25p, __pyx_k25, sizeof(__pyx_k25)},
  {&__pyx_k26p, __pyx_k26, sizeof(__pyx_k26)},
  {&__pyx_k27p, __pyx_k27, sizeof(__pyx_k27)},
  {&__pyx_k28p, __pyx_k28, sizeof(__pyx_k28)},
  {&__pyx_k29p, __pyx_k29, sizeof(__pyx_k29)},
  {&__pyx_k30p, __pyx_k30, sizeof(__pyx_k30)},
  {&__pyx_k31p, __pyx_k31, sizeof(__pyx_k31)},
  {&__pyx_k32p, __pyx_k32, sizeof(__pyx_k32)},
  {&__pyx_k33p, __pyx_k33, sizeof(__pyx_k33)},
  {&__pyx_k34p, __pyx_k34, sizeof(__pyx_k34)},
  {&__pyx_k35p, __pyx_k35, sizeof(__pyx_k35)},
  {&__pyx_k36p, __pyx_k36, sizeof(__pyx_k36)},
  {&__pyx_k37p, __pyx_k37, sizeof(__pyx_k37)},
  {&__pyx_k38p, __pyx_k38, sizeof(__pyx_k38)},
  {&__pyx_k39p, __pyx_k39, sizeof(__pyx_k39)},
  {&__pyx_k44p, __pyx_k44, sizeof(__pyx_k44)},
  {&__pyx_k45p, __pyx_k45, sizeof(__pyx_k45)},
  {&__pyx_k46p, __pyx_k46, sizeof(__pyx_k46)},
  {&__pyx_k47p, __pyx_k47, sizeof(__pyx_k47)},
  {&__pyx_k48p, __pyx_k48, sizeof(__pyx_k48)},
  {&__pyx_k49p, __pyx_k49, sizeof(__pyx_k49)},
  {&__pyx_k50p, __pyx_k50, sizeof(__pyx_k50)},
  {&__pyx_k51p, __pyx_k51, sizeof(__pyx_k51)},
  {&__pyx_k52p, __pyx_k52, sizeof(__pyx_k52)},
  {&__pyx_k53p, __pyx_k53, sizeof(__pyx_k53)},
  {&__pyx_k54p, __pyx_k54, sizeof(__pyx_k54)},
  {&__pyx_k55p, __pyx_k55, sizeof(__pyx_k55)},
  {&__pyx_k56p, __pyx_k56, sizeof(__pyx_k56)},
  {&__pyx_k57p, __pyx_k57, sizeof(__pyx_k57)},
  {&__pyx_k58p, __pyx_k58, sizeof(__pyx_k58)},
  {&__pyx_k59p, __pyx_k59, sizeof(__pyx_k59)},
  {&__pyx_k60p, __pyx_k60, sizeof(__pyx_k60)},
  {&__pyx_k61p, __pyx_k61, sizeof(__pyx_k61)},
  {&__pyx_k62p, __pyx_k62, sizeof(__pyx_k62)},
  {&__pyx_k63p, __pyx_k63, sizeof(__pyx_k63)},
  {&__pyx_k64p, __pyx_k64, sizeof(__pyx_k64)},
  {&__pyx_k65p, __pyx_k65, sizeof(__pyx_k65)},
  {&__pyx_k66p, __pyx_k66, sizeof(__pyx_k66)},
  {&__pyx_k67p, __pyx_k67, sizeof(__pyx_k67)},
  {&__pyx_k68p, __pyx_k68, sizeof(__pyx_k68)},
  {&__pyx_k69p, __pyx_k69, sizeof(__pyx_k69)},
  {&__pyx_k70p, __pyx_k70, sizeof(__pyx_k70)},
  {&__pyx_k71p, __pyx_k71, sizeof(__pyx_k71)},
  {&__pyx_k72p, __pyx_k72, sizeof(__pyx_k72)},
  {&__pyx_k73p, __pyx_k73, sizeof(__pyx_k73)},
  {&__pyx_k74p, __pyx_k74, sizeof(__pyx_k74)},
  {&__pyx_k75p, __pyx_k75, sizeof(__pyx_k75)},
  {&__pyx_k76p, __pyx_k76, sizeof(__pyx_k76)},
  {&__pyx_k77p, __pyx_k77, sizeof(__pyx_k77)},
  {&__pyx_k78p, __pyx_k78, sizeof(__pyx_k78)},
  {&__pyx_k79p, __pyx_k79, sizeof(__pyx_k79)},
  {&__pyx_k80p, __pyx_k80, sizeof(__pyx_k80)},
  {&__pyx_k81p, __pyx_k81, sizeof(__pyx_k81)},
  {&__pyx_k82p, __pyx_k82, sizeof(__pyx_k82)},
  {&__pyx_k83p, __pyx_k83, sizeof(__pyx_k83)},
  {0, 0, 0}
};

static PyObject *__pyx_tp_new_9intbitset_intbitset(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  if (__pyx_f_9intbitset_9intbitset___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9intbitset_intbitset(PyObject *o) {
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_9intbitset_9intbitset___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_9intbitset_intbitset(PyObject *o, visitproc v, void *a) {
  return 0;
}

static int __pyx_tp_clear_9intbitset_intbitset(PyObject *o) {
  return 0;
}

static struct PyMethodDef __pyx_methods_9intbitset_intbitset[] = {
  {"__deepcopy__", (PyCFunction)__pyx_f_9intbitset_9intbitset___deepcopy__, METH_VARARGS|METH_KEYWORDS, 0},
  {"__del__", (PyCFunction)__pyx_f_9intbitset_9intbitset___del__, METH_VARARGS|METH_KEYWORDS, 0},
  {"add", (PyCFunction)__pyx_f_9intbitset_9intbitset_add, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_add},
  {"clear", (PyCFunction)__pyx_f_9intbitset_9intbitset_clear, METH_VARARGS|METH_KEYWORDS, 0},
  {"difference", (PyCFunction)__pyx_f_9intbitset_9intbitset_difference, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_difference},
  {"difference_update", (PyCFunction)__pyx_f_9intbitset_9intbitset_difference_update, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_difference_update},
  {"discard", (PyCFunction)__pyx_f_9intbitset_9intbitset_discard, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_discard},
  {"intersection", (PyCFunction)__pyx_f_9intbitset_9intbitset_intersection, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_intersection},
  {"intersection_update", (PyCFunction)__pyx_f_9intbitset_9intbitset_intersection_update, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_intersection_update},
  {"union", (PyCFunction)__pyx_f_9intbitset_9intbitset_union, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_union},
  {"union_update", (PyCFunction)__pyx_f_9intbitset_9intbitset_union_update, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_union_update},
  {"issubset", (PyCFunction)__pyx_f_9intbitset_9intbitset_issubset, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_issubset},
  {"issuperset", (PyCFunction)__pyx_f_9intbitset_9intbitset_issuperset, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_issuperset},
  {"symmetric_difference", (PyCFunction)__pyx_f_9intbitset_9intbitset_symmetric_difference, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_symmetric_difference},
  {"symmetric_difference_update", (PyCFunction)__pyx_f_9intbitset_9intbitset_symmetric_difference_update, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_symmetric_difference_update},
  {"fastdump", (PyCFunction)__pyx_f_9intbitset_9intbitset_fastdump, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_fastdump},
  {"fastload", (PyCFunction)__pyx_f_9intbitset_9intbitset_fastload, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_fastload},
  {"copy", (PyCFunction)__pyx_f_9intbitset_9intbitset_copy, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_copy},
  {"pop", (PyCFunction)__pyx_f_9intbitset_9intbitset_pop, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_pop},
  {"remove", (PyCFunction)__pyx_f_9intbitset_9intbitset_remove, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_remove},
  {"strbits", (PyCFunction)__pyx_f_9intbitset_9intbitset_strbits, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_strbits},
  {"update_with_signs", (PyCFunction)__pyx_f_9intbitset_9intbitset_update_with_signs, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_update_with_signs},
  {"get_size", (PyCFunction)__pyx_f_9intbitset_9intbitset_get_size, METH_VARARGS|METH_KEYWORDS, 0},
  {"get_allocated", (PyCFunction)__pyx_f_9intbitset_9intbitset_get_allocated, METH_VARARGS|METH_KEYWORDS, 0},
  {"get_sorted_element", (PyCFunction)__pyx_f_9intbitset_9intbitset_get_sorted_element, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_get_sorted_element},
  {"to_sorted_list", (PyCFunction)__pyx_f_9intbitset_9intbitset_to_sorted_list, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_to_sorted_list},
  {"is_infinite", (PyCFunction)__pyx_f_9intbitset_9intbitset_is_infinite, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_is_infinite},
  {"extract_finite_list", (PyCFunction)__pyx_f_9intbitset_9intbitset_extract_finite_list, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_extract_finite_list},
  {"get_wordbitsize", (PyCFunction)__pyx_f_9intbitset_9intbitset_get_wordbitsize, METH_VARARGS|METH_KEYWORDS, 0},
  {"get_wordbytsize", (PyCFunction)__pyx_f_9intbitset_9intbitset_get_wordbytsize, METH_VARARGS|METH_KEYWORDS, 0},
  {"tolist", (PyCFunction)__pyx_f_9intbitset_9intbitset_tolist, METH_VARARGS|METH_KEYWORDS, __pyx_doc_9intbitset_9intbitset_tolist},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_intbitset = {
  0, /*nb_add*/
  __pyx_f_9intbitset_9intbitset___sub__, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  __pyx_f_9intbitset_9intbitset___nonzero__, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  __pyx_f_9intbitset_9intbitset___and__, /*nb_and*/
  __pyx_f_9intbitset_9intbitset___xor__, /*nb_xor*/
  __pyx_f_9intbitset_9intbitset___or__, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  __pyx_f_9intbitset_9intbitset___iadd__, /*nb_inplace_add*/
  __pyx_f_9intbitset_9intbitset___isub__, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  __pyx_f_9intbitset_9intbitset___iand__, /*nb_inplace_and*/
  __pyx_f_9intbitset_9intbitset___ixor__, /*nb_inplace_xor*/
  __pyx_f_9intbitset_9intbitset___ior__, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_intbitset = {
  __pyx_f_9intbitset_9intbitset___len__, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  __pyx_f_9intbitset_9intbitset___contains__, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_intbitset = {
  __pyx_f_9intbitset_9intbitset___len__, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_intbitset = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_9intbitset_intbitset = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "intbitset.intbitset", /*tp_name*/
  sizeof(struct __pyx_obj_9intbitset_intbitset), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9intbitset_intbitset, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  __pyx_f_9intbitset_9intbitset___cmp__, /*tp_compare*/
  __pyx_f_9intbitset_9intbitset___repr__, /*tp_repr*/
  &__pyx_tp_as_number_intbitset, /*tp_as_number*/
  &__pyx_tp_as_sequence_intbitset, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_intbitset, /*tp_as_mapping*/
  __pyx_f_9intbitset_9intbitset___hash__, /*tp_hash*/
  0, /*tp_call*/
  __pyx_f_9intbitset_9intbitset___str__, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_intbitset, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "\n    Defines an intbitset data object to hold unordered sets of\n    unsigned integers with ultra fast set operations, implemented via\n    bit vectors and Python C extension to optimize speed and memory\n    usage.\n\n    Emulates the Python built-in set class interface with some\n    additional specific methods such as its own fast dump and load\n    marshalling functions.  Uses real bits to optimize memory usage,\n    so may have issues with endianness if you transport serialized\n    bitsets between various machine architectures.\n\n\n    ", /*tp_doc*/
  __pyx_tp_traverse_9intbitset_intbitset, /*tp_traverse*/
  __pyx_tp_clear_9intbitset_intbitset, /*tp_clear*/
  __pyx_f_9intbitset_9intbitset___richcmp__, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_9intbitset_9intbitset___iter__, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_9intbitset_intbitset, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9intbitset_intbitset, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_9intbitset_intbitset_iterator(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  if (!o) return 0;
  if (__pyx_f_9intbitset_18intbitset_iterator___cinit__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_9intbitset_intbitset_iterator(PyObject *o) {
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_9intbitset_intbitset_iterator(PyObject *o, visitproc v, void *a) {
  return 0;
}

static int __pyx_tp_clear_9intbitset_intbitset_iterator(PyObject *o) {
  return 0;
}

static struct PyMethodDef __pyx_methods_9intbitset_intbitset_iterator[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_intbitset_iterator = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
  #if Py_TPFLAGS_DEFAULT & Py_TPFLAGS_HAVE_INDEX
  0, /*nb_index*/
  #endif
};

static PySequenceMethods __pyx_tp_as_sequence_intbitset_iterator = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_intbitset_iterator = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_intbitset_iterator = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

PyTypeObject __pyx_type_9intbitset_intbitset_iterator = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "intbitset.intbitset_iterator", /*tp_name*/
  sizeof(struct __pyx_obj_9intbitset_intbitset_iterator), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_9intbitset_intbitset_iterator, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_intbitset_iterator, /*tp_as_number*/
  &__pyx_tp_as_sequence_intbitset_iterator, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_intbitset_iterator, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_intbitset_iterator, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  0, /*tp_doc*/
  __pyx_tp_traverse_9intbitset_intbitset_iterator, /*tp_traverse*/
  __pyx_tp_clear_9intbitset_intbitset_iterator, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  __pyx_f_9intbitset_18intbitset_iterator___iter__, /*tp_iter*/
  __pyx_f_9intbitset_18intbitset_iterator___next__, /*tp_iternext*/
  __pyx_methods_9intbitset_intbitset_iterator, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_9intbitset_intbitset_iterator, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {0, 0, 0, 0}
};

static void __pyx_init_filenames(void); /*proto*/

PyMODINIT_FUNC initintbitset(void); /*proto*/
PyMODINIT_FUNC initintbitset(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  bool_t __pyx_3;
  __pyx_init_filenames();
  __pyx_m = Py_InitModule4("intbitset", __pyx_methods, 0, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; goto __pyx_L1;};
  if (PyType_Ready(&__pyx_type_9intbitset_intbitset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "intbitset", (PyObject *)&__pyx_type_9intbitset_intbitset) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 94; goto __pyx_L1;}
  __pyx_ptype_9intbitset_intbitset = &__pyx_type_9intbitset_intbitset;
  if (PyType_Ready(&__pyx_type_9intbitset_intbitset_iterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 684; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "intbitset_iterator", (PyObject *)&__pyx_type_9intbitset_intbitset_iterator) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 684; goto __pyx_L1;}
  __pyx_ptype_9intbitset_intbitset_iterator = &__pyx_type_9intbitset_intbitset_iterator;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":20 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___revision__, __pyx_k1p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 20; goto __pyx_L1;}

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":21 */
  __pyx_1 = PyFloat_FromDouble(1.01); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n___apilevel__, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 21; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":44 */
  __pyx_1 = __Pyx_Import(__pyx_n_zlib, 0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_zlib, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 44; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":45 */
  __pyx_1 = PyList_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 45; goto __pyx_L1;}
  Py_INCREF(__pyx_n_array);
  PyList_SET_ITEM(__pyx_1, 0, __pyx_n_array);
  __pyx_2 = __Pyx_Import(__pyx_n_array, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 45; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyObject_GetAttr(__pyx_2, __pyx_n_array); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 45; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_array, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 45; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":46 */
  __pyx_2 = PyList_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  Py_INCREF(__pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS);
  PyList_SET_ITEM(__pyx_2, 0, __pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS);
  __pyx_1 = __Pyx_Import(__pyx_k5p, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_2 = PyObject_GetAttr(__pyx_1, __pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 46; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":92 */
  __pyx_1 = PyInt_FromLong(maxelem); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
  if (PyObject_SetAttr(__pyx_m, __pyx_n___maxelem__, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 92; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":112 */
  __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 112; goto __pyx_L1;}
  __pyx_k7 = __pyx_2;
  __pyx_2 = 0;
  __pyx_k8 = (-1);
  __pyx_k9 = 0;
  __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_CFG_INTBITSET_ENABLE_SANITY_CHECKS); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 112; goto __pyx_L1;}
  __pyx_3 = PyInt_AsLong(__pyx_1); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 112; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_k10 = __pyx_3;
  __pyx_k11 = 0;

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":650 */
  __pyx_k12 = (-1);

  /* "/usr/portage/build/cds-invenio/src/intbitset.pyx":699 */
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("intbitset");
}

static char *__pyx_filenames[] = {
  "intbitset.pyx",
};

/* Runtime support code */

static void __pyx_init_filenames(void) {
  __pyx_f = __pyx_filenames;
}

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list) {
    PyObject *__import__ = 0;
    PyObject *empty_list = 0;
    PyObject *module = 0;
    PyObject *global_dict = 0;
    PyObject *empty_dict = 0;
    PyObject *list;
    __import__ = PyObject_GetAttrString(__pyx_b, "__import__");
    if (!__import__)
        goto bad;
    if (from_list)
        list = from_list;
    else {
        empty_list = PyList_New(0);
        if (!empty_list)
            goto bad;
        list = empty_list;
    }
    global_dict = PyModule_GetDict(__pyx_m);
    if (!global_dict)
        goto bad;
    empty_dict = PyDict_New();
    if (!empty_dict)
        goto bad;
    module = PyObject_CallFunction(__import__, "OOOO",
        name, global_dict, empty_dict, list);
bad:
    Py_XDECREF(empty_list);
    Py_XDECREF(__import__);
    Py_XDECREF(empty_dict);
    return module;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    #if PY_VERSION_HEX < 0x02050000
    if (!PyClass_Check(type))
    #else
    if (!PyType_Check(type))
    #endif
    {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
                "instance exception may not have a separate value");
            goto raise_error;
        }
        /* Normalize to raise <class>, <instance> */
        Py_DECREF(value);
        value = type;
        #if PY_VERSION_HEX < 0x02050000
            if (PyInstance_Check(type)) {
                type = (PyObject*) ((PyInstanceObject*)type)->in_class;
                Py_INCREF(type);
            }
            else {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception must be an old-style class or instance");
                goto raise_error;
            }
        #else
            type = (PyObject*) type->ob_type;
            Py_INCREF(type);
            if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
                PyErr_SetString(PyExc_TypeError,
                    "raise: exception class must be a subclass of BaseException");
                goto raise_error;
            }
        #endif
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb) {
    PyThreadState *tstate = PyThreadState_Get();
    PyErr_Fetch(type, value, tb);
    PyErr_NormalizeException(type, value, tb);
    if (PyErr_Occurred())
        goto bad;
    Py_INCREF(*type);
    Py_INCREF(*value);
    Py_INCREF(*tb);
    Py_XDECREF(tstate->exc_type);
    Py_XDECREF(tstate->exc_value);
    Py_XDECREF(tstate->exc_traceback);
    tstate->exc_type = *type;
    tstate->exc_value = *value;
    tstate->exc_traceback = *tb;
    return 0;
bad:
    Py_XDECREF(*type);
    Py_XDECREF(*value);
    Py_XDECREF(*tb);
    return -1;
}

static void __Pyx_UnpackError(void) {
    PyErr_SetString(PyExc_ValueError, "unpack sequence of wrong size");
}

static PyObject *__Pyx_UnpackItem(PyObject *iter) {
    PyObject *item;
    if (!(item = PyIter_Next(iter))) {
        if (!PyErr_Occurred())
            __Pyx_UnpackError();
    }
    return item;
}

static int __Pyx_EndUnpack(PyObject *iter) {
    PyObject *item;
    if ((item = PyIter_Next(iter))) {
        Py_DECREF(item);
        __Pyx_UnpackError();
        return -1;
    }
    else if (!PyErr_Occurred())
        return 0;
    else
        return -1;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
